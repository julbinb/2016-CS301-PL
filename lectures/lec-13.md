
<!-- Модуль 2
	 (2::7) Лекция 13. Типобезопасность -->

# Simply Typed Lambda Calculus (SLTC) #

## Вспомогательные леммы ##

**Лемма об инверсии.**  
Один пример: если `G |- \x:T1.t2 : R`, то `R = T1 -> R2` для некоторого
`R2` и `G, x : T1 |- t2 : R2`.

**Лемма о канонических формах.**  
Если `v` — значение типа `T1 -> T2`, то `v = \x:T1.t2`.

**Единственность типов.** (Если терм типизируем, у него один тип.)   
В любом заданном контексте типизации $\Gamma$, таком, что все $x \in FV(t)$
также $x \in dom(\Gamma)$, терм `t` имеет не более одного типа.

## Теорема о продвижении ##

Пусть `t` — _замкнутый_ терм и `t : T` (правильно типизирован).  
Тогда либо `t` является значением, либо
можно проделать шаг вычисления, т.е. сущ-ет `t'`, такой что `t -> t'`.

_Доказательство_ по индукции. Старые случаи почти пропускаем.

*	`t` — это переменная. Невозможно, так как `t` замкнут.

*	`t = \x:T.s` — это значение.

*	`t = t1 t2`. 
	Правильно типизирован, значит `|- t1 : T1 -> T2`, а также `|- t2 : T2`.
	Для `t1` выполняется предположение индукции, то есть `t1`:
	
	1.	либо значение, тогда `t1 = \x:T1.t12`, и тогда `t2` по IH:
		
		1.	либо значение, тогда правило E-AppAbs;
		2.	либо можно проделать шаг вычисления в `t2'`, тогда E-App2.
		
	2.	либо можно проделать шаг вычисления в `t1'`, тогда E-App1.
	
## Лемма о сохранении подстановки ##	

Вспомогательные леммы про переставноку и ослабление.

Лемма о сохранении.

Теорема о сохранении.


## Задания ##

1. 	Доказать, что `FV(t) <= size(t)`.
2.	Покажите, что термы `\y.(\x.x y) (\x.y)` и `\x.(\y.y x) (\z.x)` альфа-эквивалентны.


## Литература ##

*	Бенджамин Пирс, глава 9 (SLTC).
